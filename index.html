<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width">
<title>さかしるガチャ</title>
<style>
body {
  text-align: center;
  background-color: #C8EFFE;
  color: #222;
}
img {
  height: 20vh;
  margin: 1vh;
}
button {
  margin: 3em;
  padding: 5em;
}
hr {
  border-color: #222;
}
</style>
<h1>さかしるガチャ</h1>
<img src=https://codeforosaka.github.io/sakai-biz-opendata-sample-app/gachagacha.png id=btn placeholder=ガチャ><br>
div id=container></div>
<hr>
App: CC BY <a href=https://github.com/codeforosaka/sakai-biz-opendata-sample-app/>Code for Sakai</a><br>
Data: <a href=https://github.com/codeforosaka/sakai-biz-opendata/>さかしるAPI</a><br>


<script type="module">
import { shuffle } from "https://js.sabae.cc/shuffle.js";

onload = async () => {
  const data = await (await fetch("https://codeforosaka.github.io/sakai-biz-opendata/data/company_images.json")).json();
  console.log(data);
  btn.onclick = () => {
    container.innerHTML = "";
    shuffle(data);
    for (let i = 0; i < 3; i++) {
      const d = data[i];
      const img = new Image();
      img.src = d.image;
      img.onclick = () => {
        alert(d.name + " (" + d.companyId + ")");
      };
      container.appendChild(img);
    }
  }
}
</script>
